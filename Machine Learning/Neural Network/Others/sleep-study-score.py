import numpy as np

rawx = np.array([
    [5.0, 2.0],
    [6.0, 2.0],
    [7.0, 4.0],
    [8.0, 1.0]
    ])

rawy = np.array([
    [53.0, 59.0, 91.0, 69.0]
    ]).T
    
x = np.array([
    [(5.0-5.0)/(8.0-5.0), (2.0-1.0)/(4.0-1.0)],
    [(6.0-5.0)/(8.0-5.0), (2.0-1.0)/(4.0-1.0)],
    [(7.0-5.0)/(8.0-5.0), (4.0-1.0)/(4.0-1.0)],
    [(8.0-5.0)/(8.0-5.0), (1.0-1.0)/(4.0-1.0)]
    ])

y = np.array([
    [(53.0-53.0)/(91.0-53.0), (59.0-53.0)/(91.0-53.0), (91.0-53.0)/(91.0-53.0), (69.0-53.0)/(91.0-53.0)]
    ]).T

w = np.random.random((2, 3))
w2 = np.random.random((3, 1))

for j in xrange(100000):
    a2 = 1/(1 + np.exp(-( (np.dot(x, w) + 1) )))
    a3 = 1/(1 + np.exp(-( (np.dot(a2, w2) + 1) )))
    a3delta = (y - a3) * (a3 * (1 - a3))
    a2delta = a3delta.dot(w2.T) * (a2 * (1 - a2))
    w2 += a2.T.dot(a3delta)
    w += x.T.dot(a2delta)

rawx = [7, 1.5]    #Testing
x = [(7.0-5.0)/(8.0-5.0), (1.5-1.0)/(4.0-1.0)]

a2 = 1/(1 + np.exp(-( (np.dot(x, w) + 1) )))
a3 = 1/(1 + np.exp(-( (np.dot(a2, w2) + 1) )))

print(round(a3 + (91.0-53.0) + 53.0))
